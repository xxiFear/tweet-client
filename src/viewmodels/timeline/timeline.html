<template>

  <require from="utils/date-format"></require>

  <form name="shareForm" submit.delegate="writeNewTweet($event)" class="ui segments form">
    <div class="ui segment">
      <p>Todo angemeldeter Nutzer</p>
    </div>
    <div class="ui segment">
      <div class="ui fluid action input">
        <input placeholder="Share whatever you like" value.bind="tweetInput">
        <button name="shareButton"  class="ui button">Share</button>
      </div>
    </div>
  </form>



  <section class="ui grid center aligned segment">

    <div class="row" repeat.for="tweet of globalTweets">

      <div class="thirteen wide column">
        <div class="ui padded raised center aligned segment">
          <div class="ui internally celled grid">
            <div class="row">
              <div class="five wide column">
                <div class="ui center aligned">

                  <div class="ui card">
                    <a class="image" if.bind="tweet.author.gender == 'Female'">
                      <img src="/src/assets/avatars/kristy.png">
                    </a>
                    <a class="image" if.bind="tweet.author.gender == 'Male'">
                      <img src="/src/assets/avatars/christian.jpg">
                    </a>
                    <div class="content">
                      <a class="header" route-href="route: userDetail;
                                   params.bind: {id:tweet.author._id}">${tweet.author.firstName} ${tweet.author.lastName}</a>
                      <!--<div class="meta">-->
                        <!--<a>Last Seen 2 days ago</a>-->
                      <!--</div>-->
                    </div>
                  </div>

                </div>
                <!--<i class="circular pencil icon"></i>-->
                posted on

                <div class="date">
                  ${tweet.time | dateFormat}
                </div>

                <button class="ui icon button" route-href="route: timeline;
                                   params.bind: {id:tweet.author._id}">
                  <i class="fa fa-comments" title="Show ${tweet.author.firstName}'s comments only"></i>
                </button>
                <button class="positive ui icon button" disabled.bind="!canFollow(tweet.author)" click.trigger="followUser(tweet.author)">
                  <i class="add user icon" title="Follow ${tweet.author.firstName}"></i>
                </button>
                <button class="negative ui icon button" disabled.bind="!canUnfollow(tweet.author)" click.trigger="unfollowUser(tweet.author)">
                  <i class="remove user icon" title="Unfollow ${tweet.author.firstName}"></i>
                </button>

                <button class="negative ui icon button" disabled.bind="!canDeleteTweet(tweet)" type="button" click.trigger="showConfirmationDialog(tweet)">
                  <i class="fa fa-trash" title="Delete this comment"></i>
                </button>

              </div>




              <div class="ten wide column">
                <div class="extra text">
                  ${tweet.message}
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>


    </div>
  </section>
</template>

